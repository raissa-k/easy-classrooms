<%- include('partials/header', {navbar: "yes" , title: "Teacher Panel" , active: "teacher-panel" }) -%>


	<div class="px-4 xl:px-0 mt-8">
		<div class="mx-auto container">
			<div class="p-2 md:px-12 mx-auto bg-base-300 border border-base-200 prose rounded-lg">
				<p>Hi <%= user.userName %>. Here are your classrooms:
				</p>
				<%if( classrooms.length ){%>
				<h1 class="text-primary mt-4">LINK TO CLASSROOM HERE</h1>

				<% classrooms.forEach (el=> { %>
				<!-- Card with avatar, title, subtitle and action -->
				<div class="card flex-row bg-base-100 shadow-xl min-w-min not-prose">

					<div class="p-6 pb-0 flex flex-wrap items-center justify-between gap-4">
						<span class="w-20 h-20 rounded">
							<img src="<%=el.image%>" alt="classroom picture" width="80" height="80" class="object-cover rounded" />
						</span>
						<div class="card-actions">
							<button class="btn btn">Buy Now</button>
							<button class="btn">
								<span class="order-2">Send message</span>
								<span aria-hidden="true" class="relative only:-mx-5">
									<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mx-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
										<path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
									</svg>
								</span>
							</button>
						</div>
					</div>

					<div class="card-body items-center text-center">
						<h2 class="card-title"><%=el.name%></h2>
						<p><%=el.description%></p>
					</div>
				</div>

				<div class="card">
					<div class="fade" id="<%=el._id%>" role="tabpanel" aria-labelledby="<%=el._id%>" tabindex="0">
					  <div class="card-body">
						<p class="card-title fs-5">
						  <strong><%= el.name %></strong>
						</p>
					  </div>
					  <ul class="" aria-label="Your pet details">
						<li class="">
						  <p><%= el.description %></p>
						</li>
						<li class="">
						  <p><%= el.accessName %></p>
						</li>
					  </ul>
					  <div class="card-footer d-flex flex-wrap justify-content-end" style="gap: 1rem;">
						  <button class="btn btn-outline-success">
							Edit classroom
						  </button>
						  
						  <button class="btn btn-error"> 
							Delete classroom
						  </button>
					  </div>
					</div>
					<% }) %>
				  </div>


				<% } else { %>
				<h1 class="text-primary mt-4">NO CLASSROOMS FOUND.</h1>
				<%}%>

				<form class="flex flex-col gap-6" method="post" enctype="multipart/form-data" action="/classroom/create">
					<div class="form-control w-full max-w-xs">
					<label class="label" for="input-picture">
						<span class="label-text">Picture</span>
					</label>
					<input id="input-picture" name="picture" type="file" accept=".jpg, .jpeg, .png" class="input input-bordered w-full max-w-xs h-auto pl-0 file:rounded-lg file:mr-4 file:py-2 file:px-4 file:border file:border-e file:border-base-300 file:font-semibold file:bg-base-100 file:text-base-content hover:file:bg-base-300">
						<span class="label-text-alt">If no image is selected, a random one will be used.</span>
					</div>

					<div class="form-control w-full max-w-xs">
					<label class="label" for="input-name">
						<span class="label-text">Name</span>
					</label>
					<input id="input-name" name="name" placeholder="Classroom name" type="text" minlength="4" maxlength="35" class="input input-bordered w-full max-w-xs" required>
						<span class="label-text-alt">Minimum 4 and maximum 35 character</span>
					</div>

					<div class="form-control w-full max-w-xs">
					<label class="label" for="input-desc">
						<span class="label-text">Description</span>
					</label> 
						<textarea id="input-desc" name="description" placeholder="Classroom description" maxlength="140" class="textarea textarea-bordered w-full max-w-xs" rows="3"></textarea>
					</div>

					<button type="submit" class="btn mx-auto">Submit</button>
					</form>
			</div>
		</div>
	</div>
					
					


	<%- include('partials/footer') -%>